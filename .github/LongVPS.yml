name: ðŸš€ Kasm Desktop Ultra

on:
  workflow_dispatch:

jobs:
  kasm-web-desktop:
    runs-on: ubuntu-latest
    timeout-minutes: 350

    steps:
      - name: ðŸ”¥ CÃ i Kasm Desktop (Ubuntu GUI dáº¡ng Web)
        run: |
          docker pull kasmweb/ubuntu-jammy-desktop:1.14.0
          docker run -d \
            --name kasm \
            -p 6901:6901 \
            --shm-size=2g \
            kasmweb/ubuntu-jammy-desktop:1.14.0

      - name: ðŸŒ Láº¥y link truy cáº­p GUI
        run: |
          echo ""
          echo "==============================================="
          echo "ðŸŽ‰ KASM DESKTOP ÄÃƒ KHá»žI Äá»˜NG!"
          echo "ðŸ”— Link truy cáº­p giao diá»‡n Desktop:"
          echo ""
          echo "ðŸ‘‰ https://8080-${{ github.run_id }}-${{ github.run_number }}.githubpreview.dev"
          echo ""
          echo "ðŸ” User: kasm_user"
          echo "ðŸ” Pass: password"
          echo "==============================================="
          echo ""

      - name: ðŸŒ Táº¡o tunnel Web (cho phÃ©p truy cáº­p tá»« trÃ¬nh duyá»‡t)
        run: |
          curl -fsSL https://github.com/anderspitman/telebit/releases/download/v0.20.3/telebit-linux-arm | sudo tee /usr/local/bin/telebit > /dev/null
          chmod +x /usr/local/bin/telebit
          telebit http 6901 2>/dev/null &
